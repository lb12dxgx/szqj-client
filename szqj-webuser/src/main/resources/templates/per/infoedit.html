<div class="panel panel-default animated bounceInDown">
  <div class="panel-heading ">修改信息</div>
  <div class="panel-body">
     	<div class="col-md-12" >
		 	<form class="form-horizontal" id="infosave" action="/per/infosave.do" method="post">
                <input type="hidden" th:value="${person.personPicId}" id="personPicId" name="personPicId" />
                <input type="hidden" th:value="${person.personId}" id="personId" name="personId" />
                
               
                  <div style="border-bottom:1px solid #ccc; color: #ff6000;font-size: 16px;font-weight: bold">基本信息</div>
                <div class="form-group top20">
                  <label class="col-md-2 control-label">姓名</label>
                  <div class="col-md-4">
                     <input type="text" class="form-control"   id="personName" name="personName"  th:value="${person.personName}"  />
                  </div>
                  <label class="col-md-2 control-label">性别</label>
                  <div class="col-md-4">
                   <select class="form-control" name="personSex" id="personSex">
                     	<option value="男">男</option>
                     	<option value="女">女</option>
                    </select>
                  </div>
                </div>
                
                 <div class="form-group top20">
                  <label class="col-md-2 control-label">出生日期</label>
                  <div class="col-md-4">
                    <input  type="text" class="form-control datepicker" name="birthDate" id="birthDate" placeholder="请输入截止日期"  th:value="${#dates.format(person.birthDate, 'yyyy-MM-dd')}">
                  </div>
                  <label class="col-md-2 control-label">开始工作时间</label>
                  <div class="col-md-4">
                    <input  type="text" class="form-control datepicker" name="jobDate" id="jobDate" placeholder="请输入截止日期"   th:value="${#dates.format(person.jobDate, 'yyyy-MM-dd')}">
                  </div>
                </div>
                
                <div class="form-group top20">
                  <label class="col-md-2 control-label">居住地</label>
                  <div class="col-md-4">
                    <input type="text" class="form-control txt_city"   name="perCity" id="perCity" th:value="${person.perCity}" />
                  </div>
                  <label class="col-md-2 control-label">目前年收入(万元)</label>
                  <div class="col-md-4">
                    <input type="text" class="form-control"  name="perMoney" id="perMoney"   th:value="${person.perMoney}" />
                     
                  </div>
                  
                </div>
                
                
                 <div class="form-group top20">
                  <label class="col-md-2 control-label">邮箱</label>
                  <div class="col-md-4">
                    <input type="text" class="form-control"  name="perEmail" id="perEmail"  th:value="${person.perEmail}" />
                  </div>
                  <label class="col-md-2 control-label">工作状态</label>
                  <div class="col-md-4">
	                   <select class="form-control" name="workStateCode" id="workStateCode">
	                     	
	                    </select>
                  </div>
                </div>
                
                
                <div style="border-bottom:1px solid #ccc; color: #ff6000;font-size: 16px;font-weight: bold">求职意向</div>
                 
                <div class="form-group top20">
                  <label class="col-md-2 control-label">期望月工资(万)</label>
                  <div class="col-md-4">
                      <select class="form-control" name="perSalaryCode" id="perSalaryCode">
	                    </select>
                    </div>
                  <label class="col-md-2 control-label">工作地点</label>
                  <div class="col-md-4">
                    <input type="text" class="form-control txt_city"  name="workCity" id="workCity" th:value="${person.workCity}"  />
                  </div>
                </div>
                
                
                 <div class="form-group top20">
                  <label class="col-md-2 control-label">职位</label>
                  <div class="col-md-4">
                    <input type="text" class="form-control" name="jobName" id="jobName" th:value="${person.jobName}"  />
                  </div>
                  <label class="col-md-2 control-label">行业</label>
                  <div class="col-md-4">
                    <select class="form-control" name="hyTypeCode" id="hyTypeCode">
                     
                    </select>
                  </div>
                </div>
                
                
                  <div class="form-group top20">
                  
                  <label class="col-md-2 control-label">学历</label>
                  <div class="col-md-4">
                    <select class="form-control" name="jobStudyCode" id="jobStudyCode">
                     
                    </select>
                  </div>
                  
                  <label class="col-md-2 control-label">工作类型</label>
                  <div class="col-md-4">
                    <select class="form-control" name="workType" id="workType">
                     	<option value="全职">全职</option>
                     	<option value="兼职">兼职</option>
                    </select>
                  </div>
                  
                </div>
                
 				<div class="form-group">
                  <div class="col-md-4 col-md-offset-6"  >
            			<button id="submitbut" type="button" class="btn btn-warning">提交</button>
            			<button id="backbut" type="button" class="btn btn-default">取消</button>
                  </div>
                </div>
                
              </form>
    	 </div>
	
	</div>
</div>


<script id="tpl-hytype" type="text/html">
		{{each  retData}}
  			<option value={{$value.dictValue}}>{{$value.dictName}}</option>
		{{/each}}
</script>

<script type="text/javascript" th:inline="javascript">
	$(function(){
		
	
	$('#personSex').val([[${person.personSex}]]);
	$('#workType').val([[${person.workType}]]);
	
	
	$.get("/dict/getList.html?dictValue=per_workstate",function(data,status){
		var html = template('tpl-hytype',data);
			$('#workStateCode').html(html);
			$('#workStateCode').val([[${person.workStateCode}]]);
	 });
	
	$.get("/dict/getList.html?dictValue=per_salary",function(data,status){
		var html = template('tpl-hytype',data);
			$('#perSalaryCode').html(html);
			$('#perSalaryCode').val([[${person.perSalaryCode}]]);
	 });
		
	$.get("/dict/getList.html?dictValue=qy_hy_type",function(data,status){
			var html = template('tpl-hytype',data);
				$('#hyTypeCode').html(html);
				$('#hyTypeCode').val([[${person.hyTypeCode}]]);
	 });
	
	
	
	$.get("/dict/getList.html?dictValue=xl_type",function(data,status){
		var onehtml = template('tpl-hytype',data);
		$('#jobStudyCode').html(onehtml);
		$('#jobStudyCode').val([[${person.jobStudyCode}]]);
		
	});
		
	 $('.datepicker').datepicker({
			    format: 'yyyy-mm-dd',
			    language: 'zh-CN',
			    pickerPosition:'bottom-right',
			    autoclose:true
	});
	 
	 $('.txt_city').jcity({
         urlOrData: '/js/citydata.json',
         showArea:false,
         animate: { showClass: 'animated flipInX', hideClass: 'animated flipOutX' },  // 需要第一步引用的animate.min.css文件，也可以自己定义动画 
         onChoice: function (data) {
             console.log(data);
         }
     });
	 
	
	 
					  
	  $("#submitbut").click(function(){
	      var form = $("#infosave");
		    $.ajax({
		        url:'/per/infosave.do',
		        type: form.attr("method"),
		        data: form.serialize(),
		        success: function (data)
		        {
		            $("#resu-info").html(data);
		        }
		    });

	});
	  
	  $("#backbut").click(function(){
		  $("#resu-info").load('/per/infoview.html');
	  })
	 
  })
 </script>
 	
 	
			
		